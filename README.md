# privacy_telegram_ekosistem

# Ссылка на бота
[Privacy Telegram System Bot](https://t.me/Privacy_telegram_system_bot)

# Тема проекта:
### Приватная экосистема в Телеграм

# Краткое описание:
### Это целая приватная экосистема, в которой свой **мессенджер** и **интернет**, и всё будет сделано с упором на максимальную безопасность и интерфейс, в котором можно работать без единого ввода текста!

# Список команд:
- `/start` старт  
- `/help` помощь  
- `/start_chat` начать переписку в [Мессенджере](#messenger)  
- `/settings` настройки  
- `/create_id` создание [ключей](https://github.com/Sergeiprogrammer/privacy_telegram_ekosistem/edit/main/README.md#%D0%BF%D0%BE-%D1%8D%D1%82%D0%BE%D0%BC%D1%83-%D0%B2-%D1%81%D0%B2%D0%BE%D1%91%D0%BC-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B5-%D1%81-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%BB-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%83-%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%B0%D1%8F-%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B8%D1%80%D1%83%D0%B5%D1%82-3-id-%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5-%D1%8F%D0%B2%D0%BB%D1%8E%D1%8E%D1%82%D1%8C%D1%81%D1%8F-%D0%BA%D0%BB%D1%8E%D1%87%D0%B0%D0%BC%D0%B8-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F-%D1%80%D0%B5%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE-id-%D1%87%D0%B5%D0%BB%D0%BE%D0%B2%D0%B5%D0%BA%D0%B0-%D0%B8-%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B8-%D0%B5%D0%BC%D1%83-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B9-%D1%87%D0%B5%D0%BB%D0%BE%D0%B2%D0%B5%D0%BA-%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B9-%D0%B8%D0%BC%D0%B5%D0%B5%D1%82-%D0%BA%D0%BB%D1%8E%D1%87%D0%B8-%D0%BD%D0%B5-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B0%D0%B5%D1%82-%D1%81-%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8E-%D0%BD%D0%B8%D1%85-id-%D1%82%D0%B5%D0%BB%D0%B5%D0%B3%D1%80%D0%B0%D0%BC%D0%BC-%D0%B0-%D0%BB%D0%B8%D1%88%D1%8C-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B0%D0%B5%D1%82-%D0%B1%D0%BE%D1%82%D1%83-%D0%BF%D0%BE-%D0%BA%D0%B0%D0%BA%D0%B8%D0%BC-%D0%BA%D0%BB%D1%8E%D1%87%D0%B0%D0%BC-%D0%BD%D1%83%D0%B6%D0%BD%D0%BE-%D0%BD%D0%B0%D0%B9%D1%82%D0%B8-%D0%B5%D0%B3%D0%BE-%D0%B4%D0%BB%D1%8F-%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B8-%D0%B4%D0%B0%D0%BB%D1%8C%D1%88%D0%B5-%D0%B1%D0%BE%D1%82-%D0%BE%D1%82%D1%80%D0%BF%D0%B0%D0%B2%D0%BB%D1%8F%D0%B5%D1%82-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BD%D0%B0-id-%D1%82%D0%BB%D0%B5%D0%B3%D1%80%D0%B0%D0%BC%D0%BC-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F) для ID  
- `/internet` выход в приватный [Интернет](#internet)  
- `/add_site` добавить [новый сайт](https://github.com/Sergeiprogrammer/privacy_telegram_ekosistem/edit/main/README.md#%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2)  
- `/developers` для разработчиков ([как добавить бота на сервер или в группу](https://github.com/Sergeiprogrammer/privacy_telegram_ekosistem/edit/main/README.md#%D0%B8%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2-%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B5))  
- `/change_id` позволяет сменить свой ID  

# Гайд для новичков
Эта система создана для удобства пользователей и сделана максимально интуитивно. Мы рассмотрим четыре основные, самые сложные функции для работы:

- **start_chat**: Чтобы начать работу, нужно указать свой ID, а затем ID собеседника. Для удобства можно записать ID собеседника(-ов) в специальную базу в функции **settings**. Тогда вы будете сразу получать ID собеседника и сможете выбрать его из списка вместо ручного ввода.
- **change_id / change_name**: Нужно всего лишь дважды ответить на вопрос словом "да" без пробелов и кавычек. Программа сделает всё за вас. Если программа пишет, что не получилось уведомить людей, это значит, что у вас либо нет их в таблице контактов для уведомления, либо там всего один человек. В таком случае нужно делать всё вручную.
- **add_site**: Нужно прислать сайт в формате zip. В архиве должна быть директория `templates` с файлом `index.html`, а также файл `description.txt`, который должен находиться в корневой папке проекта.

# Полное описание:

# Messenger
## Принцип работы:
### Сначала разберёмся с Телеграмом. Чтобы отправить сообщение, бот должен иметь ID человека. Если отправляет человек, нужно знать его профиль. Оба варианта чреваты атаками со стороны злоумышленников.
### Поэтому в своём проекте я разработал систему, которая генерирует 3 ID, являющихся ключами для получения реального ID человека и отправки ему сообщений. Человек, который имеет ключи, не получает с их помощью ID Телеграмма, а лишь сообщает боту, по каким ключам нужно найти его для отправки. Дальше бот отправляет сообщение на ID Телеграмм пользователя.
![Описание изображения](messenger/media/images/photo_2024-07-31_00-00-25.jpg)
### Смысл в том, что человек остаётся полностью анонимен, а благодаря динамичным ключам для ID их можно сменить, и все контакты получат уведомление об их смене, а злоумышленник никогда его не найдёт!

## Как начать общение?
### Ответ: также как и в Телеграмме, но вместо номера телефона ваш ключ от ID. Я также разработал систему, когда бот от вашего лица пишет сообщения в группе. [Как добавить бота в группу?](https://github.com/Sergeiprogrammer/privacy_telegram_ekosistem/edit/main/README.md#%D0%B8%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2-%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B5)

### ДОПОЛНЕНИЕ: для удобства интерфейса в моём боте есть ники людей, но они могут повторяться. Это сделано специально, чтобы, зная ник, который легче запомнить, чем ID, было сложнее следить за человеком.

# Internet
## Принцип работы:
### Пользователь загружает HTML, CSS, JavaScript файлы, после чего они выгружаются на мой сайт, и любой может их посмотреть. Из этого в итоге получается интернет.
### Плюсы в том, что людям не нужно иметь свой сервер для хостинга, и пользователям или владельцам сайтов практически невозможно навредить.
### Всё из-за того, что сайт открывается через Телеграмм, а также мой сервер не позволяет иметь свой серверный код, что ограничивает функционал сайтов, но они полностью безопасны.

# Site
## На сайте есть 3 основные части: главная страница, форум и бан-лист.
## Основная страница:
### На ней представлены все сайты, поддерживаемые моим интернетом.
## Бан-лист:
### Туда в открытый доступ выкладывается информация о забаненных, чтобы те могли понять, почему их забанили и оспорить это.

# Загрузка сайтов:
### Чтобы загрузить сайт, нужно выполнить функцию `/add_site`, а дальше следовать указаниям бота.
### Сайты с помощью уникальной системы проверяются на вирусы, а после сами подгружаются в систему и полностью функционируют. Остаётся только перезагрузить страницу.

## Плюсы моего интернета:
1. Безопасные платежи
2. Полная безопасность для пользователей и владельцев сайтов
3. Интуитивный интерфейс и единая платформа

# Структура базы данных:
## ban_list
- users: сюда попадают забаненные, а потом их выгружает на сайт с банами, и они больше не могут пользоваться ботом
## bot_id.db
- users:
- settings1:
- settings2:
- allowed servers:

# Отправка в группу
## Принцип работы:
### Вы пишите боту, в какую группу хотите отправить сообщение и само сообщение, а дальше всё то же самое, что и в обычной отправке.
### Для отправки нужно, чтобы автор канала инициализировал бота в свою группу.

## Инициализация в группе:
1. Нужно добавить бота. Если у вас канал, то нужно открыть его параметры и нажать "администраторы":
![Описание изображения](https://botifi.me/help/media/image_upload/2022/06/28/2022-06-28-210102.png)
2. Нажать кнопку "добавить администратора":
![Описание изображения](https://botifi.me/help/media/image_upload/2022/06/28/2022-06-28-210239.png)
3. Указать эту ссылку: [Privacy Telegram System Bot](https://t.me/Privacy_telegram_system_bot)
![Описание изображения](https://github.com/Sergeiprogrammer/privacy_telegram_ekosistem/blob/main/messenger/images/photo_2024-07-31_18-21-01.jpg)
### ВАЖНО: ЗАПОМНИТЕ ID, КОТОРЫЙ ОН ВАМ ВЫДАЛ, ИНАЧЕ ПРИДЁТСЯ ПОВТОРИТЬ ПРОШЛЫЙ ЭТАП!
4. После этого вызвать функцию `/developers` и выполнить требования бота. После этого он добавит ваш канал или группу в базу. Если бот перестанет быть админом, то после первой отправки сообщения он сообщит, что больше не админ и удалит вас из базы.

# Как начать работать с ботом:
## API Keys
### Для начала укажите свой API key в файле `telegram.py` по пути `messenger/telegram/telegram.py` и укажите там свой токен. То же самое сделайте в файле `virus_check` (если вам нужно добавление сайтов и проверка на вирусы). Также рекомендую в папке `site` в каталоге `messenger` проверить, не занят ли у вас проброшенный порт другим процессом, иначе сайт будет не рабочим.
### Чтобы начать непосредственную работу, проверьте наличие этих библиотек:
- telebot
- sqlite3
- secrets
- telegram
- zipfile
- os
- shutil
- re
- requests
- logging

### Дальше запустите файлы `messenger/site/main.py` и `messenger/telegram/telegram.py`. Перейдите на центральную страницу на сайте, который высветится вам в консоли из файла `main`. После того как увидите интерфейс, можно сворачивать и запускать ТГ бота, иначе функция интернет не будет работать, так как центральный путь сайта будет не прогружен и не обозначен системой.
